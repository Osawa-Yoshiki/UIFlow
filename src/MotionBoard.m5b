{"category":"MotionBoard","color":"#000000","blocks":["__MotionBoard_mbSend"],"jscode":"// Block __MotionBoard_mbSend\nvar __MotionBoard_mbSend_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"MotionBoard\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"tenant\"\n        },\n        {\n            \"type\": \"field_input\",\n            \"text\": \"\",\n            \"spellcheck\": false,\n            \"name\": \"tenant\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"template\"\n        },\n        {\n            \"type\": \"field_input\",\n            \"text\": \"\",\n            \"spellcheck\": false,\n            \"name\": \"template\"\n        }\n    ],\n    \"message3\": \"%1 %2\",\n    \"args3\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"id\"\n        },\n        {\n            \"type\": \"field_input\",\n            \"text\": \"\",\n            \"spellcheck\": false,\n            \"name\": \"id\"\n        }\n    ],\n    \"message4\": \"%1 %2\",\n    \"args4\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"data\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"data\"\n        }\n    ],\n    \"colour\": \"#000000\"\n};\n\nwindow['Blockly'].Blocks['__MotionBoard_mbSend'] = {\n    init: function() {\n        this.jsonInit(__MotionBoard_mbSend_json);\n    }\n};\n\nwindow['Blockly'].Python['__MotionBoard_mbSend'] = function(block) {\n    var tenant = block.getFieldValue('tenant');\nvar template = block.getFieldValue('template');\nvar id = block.getFieldValue('id');\nvar data = Blockly.Python.valueToCode(block, 'data', Blockly.Python.ORDER_NONE);\n    return `import urequests\n\n\ndef mbSend(_tenant, _template, _id, _data):\n  url = 'https://iot-cloud.motionboard.jp/motionboard/rest/tracking/data/upload/simple'\n  url += '?tenant=' + str(_tenant)\n  url += '&template=' + str(_template)\n  url += '&id=' + str(_id)\n  for k, v in _data.items():\n    url += '&'\n    url += str(k)\n    url += '='\n    url += str(v)\n  try:\n    req = urequests.request(method='GET', url=url, headers={'Content-Type': 'application/x-www-form-urlencoded'})\n    _ret = True\n  except:\n    _ret = False\n  return _ret\n\nmbSend(\"${tenant}\", \"${template}\", \"${id}\", ${data})\n` + \"\\n\";\n};\n\n","code":{"mbSend":["window['Blockly'].Python['__MotionBoard_mbSend'] = function(block) {\n    var tenant = block.getFieldValue('tenant');\nvar template = block.getFieldValue('template');\nvar id = block.getFieldValue('id');\nvar data = Blockly.Python.valueToCode(block, 'data', Blockly.Python.ORDER_NONE);\n    return `import urequests\n\n\ndef mbSend(_tenant, _template, _id, _data):\n  url = 'https://iot-cloud.motionboard.jp/motionboard/rest/tracking/data/upload/simple'\n  url += '?tenant=' + str(_tenant)\n  url += '&template=' + str(_template)\n  url += '&id=' + str(_id)\n  for k, v in _data.items():\n    url += '&'\n    url += str(k)\n    url += '='\n    url += str(v)\n  try:\n    req = urequests.request(method='GET', url=url, headers={'Content-Type': 'application/x-www-form-urlencoded'})\n    _ret = True\n  except:\n    _ret = False\n  return _ret\n\nmbSend(\"${tenant}\", \"${template}\", \"${id}\", ${data})\n` + \"\\n\";\n};\n\n","import urequests\n\n\ndef mbSend(_tenant, _template, _id, _data):\n  url = 'https://iot-cloud.motionboard.jp/motionboard/rest/tracking/data/upload/simple'\n  url += '?tenant=' + str(_tenant)\n  url += '&template=' + str(_template)\n  url += '&id=' + str(_id)\n  for k, v in _data.items():\n    url += '&'\n    url += str(k)\n    url += '='\n    url += str(v)\n  try:\n    req = urequests.request(method='GET', url=url, headers={'Content-Type': 'application/x-www-form-urlencoded'})\n    _ret = True\n  except:\n    _ret = False\n  return _ret\n\nmbSend(\"${tenant}\", \"${template}\", \"${id}\", ${data})\n"]}}